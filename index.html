<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Hiragana Quiz</title>
  <style>
    body { font-family: Arial; text-align: center; margin-top: 50px; background-color: #f5f5f5; }
    input { font-size: 18px; padding: 8px; border: 2px solid #ccc; border-radius: 5px; width: 200px; }
    button { font-size: 18px; padding: 8px 15px; margin: 5px; border: none; border-radius: 5px; background-color: #4CAF50; color: white; cursor: pointer; }
    button:hover { background-color: #45a049; }
    #feedback { margin-top: 20px; font-weight: bold; font-size: 20px; height: 30px; }
    #stats { margin-top: 20px; font-size: 18px; color: #333; }
  </style>
</head>
<body>
  <h1>Hiragana Quiz</h1>
  <p id="hiragana" style="font-size: 60px;"></p>
  <input type="text" id="answer" placeholder="Escribe romaji">
  <button onclick="checkAnswer()">Enviar</button>
  <button onclick="resetQuiz()">Empezar de nuevo</button>
  <p id="feedback"></p>
  <p id="stats">Aciertos: 0 | Errores: 0</p>

  <script>
    // Diccionario completo de hiragana + combinaciones
    const hiraganaMap = {
      // Vocales
  'あ':'a','い':'i','う':'u','え':'e','お':'o',

  // K
  'か':'ka','き':'ki','く':'ku','け':'ke','こ':'ko',
  'きゃ':'kya','きゅ':'kyu','きょ':'kyo',

  // G
  'が':'ga','ぎ':'gi','ぐ':'gu','げ':'ge','ご':'go',
  'ぎゃ':'gya','ぎゅ':'gyu','ぎょ':'gyo',

  // S
  'さ':'sa','し':'shi','す':'su','せ':'se','そ':'so',
  'しゃ':'sha','しゅ':'shu','しょ':'sho',

  // Z
  'ざ':'za','じ':'ji','ず':'zu','ぜ':'ze','ぞ':'zo',
  'じゃ':'ja','じゅ':'ju','じょ':'jo',

  // T
  'た':'ta','ち':'chi','つ':'tsu','て':'te','と':'to',
  'ちゃ':'cha','ちゅ':'chu','ちょ':'cho',

  // D
  'だ':'da','ぢ':'ji','づ':'zu','で':'de','ど':'do',
  'ぢゃ':'ja','ぢゅ':'ju','ぢょ':'jo',

  // N
  'な':'na','に':'ni','ぬ':'nu','ね':'ne','の':'no',
  'にゃ':'nya','にゅ':'nyu','にょ':'nyo',

  // H
  'は':'ha','ひ':'hi','ふ':'fu','へ':'he','ほ':'ho',
  'ひゃ':'hya','ひゅ':'hyu','ひょ':'hyo',

  // B
  'ば':'ba','び':'bi','ぶ':'bu','べ':'be','ぼ':'bo',
  'びゃ':'bya','びゅ':'byu','びょ':'byo',

  // P
  'ぱ':'pa','ぴ':'pi','ぷ':'pu','ぺ':'pe','ぽ':'po',
  'ぴゃ':'pya','ぴゅ':'pyu','ぴょ':'pyo',

  // M
  'ま':'ma','み':'mi','む':'mu','め':'me','も':'mo',
  'みゃ':'mya','みゅ':'myu','みょ':'myo',

  // Y
  'や':'ya','ゆ':'yu','よ':'yo',

  // R
  'ら':'ra','り':'ri','る':'ru','れ':'re','ろ':'ro',
  'りゃ':'rya','りゅ':'ryu','りょ':'ryo',

  // W
  'わ':'wa','を':'wo',

  // N
  'ん':'n',

    };

    const soundCorrect = new Audio('audio/correct.mp3');
    const soundWrong = new Audio('audio/wrong.mp3');


    const hiraganaKeys = Object.keys(hiraganaMap);
    let currentChar = '';
    let correct = 0;
    let wrong = 0;

    function randomHiragana() {
      const idx = Math.floor(Math.random() * hiraganaKeys.length);
      currentChar = hiraganaKeys[idx];
      document.getElementById('hiragana').innerText = currentChar;
      document.getElementById('answer').value = '';
      document.getElementById('feedback').innerText = '';
    }

    function checkAnswer() {
      const userAnswer = document.getElementById('answer').value.toLowerCase().trim();
      if(!userAnswer) {
        document.getElementById('feedback').innerText = '⚠️ Por favor, escribe algo';
        return;
      }
      if(userAnswer === hiraganaMap[currentChar]) {
        document.getElementById('feedback').innerText = '✅ Correcto!';
        correct++;
        try { soundCorrect.play(); } catch(e) { console.log('Audio no disponible'); }
      } else {
        document.getElementById('feedback').innerText = `❌ Incorrecto. Es "${hiraganaMap[currentChar]}"`;
        wrong++;
        try { soundWrong.play(); } catch(e) { console.log('Audio no disponible'); }
      }
      updateStats();
      setTimeout(randomHiragana, 1000);
    }
    // Detecta la tecla Enter en el input
    document.getElementById('answer').addEventListener('keydown', function(event) {
    if(event.key === 'Enter') {   // Si se pulsa Enter
      checkAnswer();
    }
});

    function updateStats() {
      document.getElementById('stats').innerText = `Aciertos: ${correct} | Errores: ${wrong}`;
    }

    function resetQuiz() {
      correct = 0;
      wrong = 0;
      updateStats();
      randomHiragana();
    }

    // Inicializa el quiz
    randomHiragana();
  </script>
</body>
</html>

